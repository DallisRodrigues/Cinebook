spring.application.name=BOOKING-SERVICE
server.port=8082

# Note the change to 'mariadb' in the URL and the Driver class
spring.datasource.url=jdbc:mariadb://localhost:3306/cinebook_db?createDatabaseIfNotExist=true
spring.datasource.username=cineuser
spring.datasource.password=password
spring.datasource.driver-class-name=org.mariadb.jdbc.Driver

spring.jpa.hibernate.ddl-auto=update
eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/

# Circuit Breaker Config
resilience4j.circuitbreaker.instances.movieService.registerHealthIndicator=true
resilience4j.circuitbreaker.instances.movieService.slidingWindowSize=5
resilience4j.circuitbreaker.instances.movieService.failureRateThreshold=50
resilience4j.circuitbreaker.instances.movieService.waitDurationInOpenState=10s

# Tracing Pattern in Logs
logging.pattern.level=%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]

# Record 100% of requests (For Development only)
management.tracing.sampling.probability=1.0
# Expose all endpoints to the Admin Dashboard
management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always
# RabbitMQ Configuration
spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=guest
spring.rabbitmq.password=guest

eureka.instance.prefer-ip-address=false
eureka.instance.hostname=localhost
eureka.instance.instance-id=${spring.application.name}:${random.value}
# Fix for JMX InstanceAlreadyExistsException
spring.jmx.unique-names=true

# Shared JWT Secret (Minimum 256-bit strong random string)
jwt.secret=9a4f2c8d3e1b7f6a5d4c3b2a1f0e9d8c7b6a5f4e3d2c1b0a9f8e7d6c5b4a3f2